<!DOCTYPE html>
<html>
<head>
    <title>Index</title>
    <style>
        .center {
            display: block;
            margin-left: auto;
            margin-right: auto;
            width: 35%;
        }

        .speech input {border: 0; width: 240px; display: inline-block; height: 30px;}
        .speech img {float: right; width: 40px }
    </style>

    <script>
      function startDictation() {
    
        if (window.hasOwnProperty('webkitSpeechRecognition')) {
    
          var recognition = new webkitSpeechRecognition();
    
          recognition.continuous = false;
          recognition.interimResults = false;
    
          recognition.lang = "id";
          recognition.start();
    
          recognition.onresult = function(e) {
            document.getElementById('transcript').value
                                     = e.results[0][0].transcript;
            recognition.stop();
            document.getElementById('labnol').submit();
          };
    
          recognition.onerror = function(e) {
            recognition.stop();
          }
    
        }
      }
    </script>

</head>
<body>
    <img src="{{ user_image }}" alt="User Image" class="center">
    <form id="labnol" method="post" action="{{ url_for('handle_data') }}">
      <div class="speech">
        <input type="hidden" name="q" id="transcript" placeholder="Speak" />
        <img onclick="startDictation()" src="//i.imgur.com/cHidSVu.gif" />
      </div>
    </form>
</body>
</html>


